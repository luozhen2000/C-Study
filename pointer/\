#include<stdio.h>
#include<stdlib.h>

//回调函数就是通过函数指针调用的函数，把函数指针作为参数传递给另外一个函数，当这个指针被用来调用其所指向的函数时，这就是回调函数。


typedef struct
{
	char name[20];
	int id;
	int score;
}Stu;
//void *表示任意类型的指针
//void *类型的指针不能进行解引用操作
int cmp_Stu(const void * e1,const void * e2)
{
	if((*(Stu*)e1).score>(*(Stu*)e2).score)
		return 1;
	if((*(Stu*)e1).id>(*(Stu*)e2).id)
		return -1;
	else 
		return -1;
}
int cmp_int(const void* e1,const void* e2)
{
	return *(int*)e1-*(int*)e2;
}

int cmp_float(const void* e1,const void* e2)
{
	return *(float*)e1>*(float*)e2?1:-1;
}
void test_int()
{
	int arr[]={1,2,5,7,22,33,2};
	int sz= sizeof(arr)/sizeof(arr[0]);
	qsort(arr,sz,sizeof(arr[0]),cmp_int);
	for(int i=0;i<sz;i++)
	{
		printf("%d ",arr[i]);
	}
	printf("\n\n");
}
void test_float()
{
	float arr[]={1.1,2.3,5.55,7.12,22.1,33.33,2.23};
	int sz= sizeof(arr)/sizeof(arr[0]);
	qsort(arr,sz,sizeof(arr[0]),cmp_float);
	for(int i=0;i<sz;i++)
	{
		printf("%f ",arr[i]);
	}
	printf("\n\n");
}
void test_Stu()
{
	Stu arr[3]={{"张三",1,150},{"李四",2,149},{"王五",3,150}};
	int sz= sizeof(arr)/sizeof(arr[0]);
	qsort(arr,sz,sizeof(arr[0]),cmp_float);
	for(int i=0;i<sz;i++)
	{
		printf("%d ",(arr[i]).id);
		printf("%s ",(arr[i]).name);
		printf("%d ",(arr[i]).score);
		pritnf("\n");
	}
	printf("\n\n");
}

int main()
{
	test_int();
	test_float();
	test_Stu();
	return 0;
}
